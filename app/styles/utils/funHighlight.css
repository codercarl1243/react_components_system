.fun-highlight {
    position: relative;
    display: inline;
    z-index: 1;
    text-shadow: 0 0 0.5px currentColor, 0 0 0.5px currentColor;

    &:before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 103%;
        height: 120%;
        border-radius: var(--border-radius, 50px);
        opacity: 0.35;
        z-index: -1;
        transform: translate(-50%, -50%) rotate(-1deg) scale(1);
        background: var(--background, currentColor);
        transform-origin: center;
    }

    &:hover:before {
        animation: wiggle 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55) 2;
    }
}

@media (prefers-reduced-motion: reduce) {

    .fun-highlight::before,
    .fun-highlight.individual::before {
        transition: none;
        animation: none !important;
    }
}

.fun-highlight:nth-of-type(9n+1) {
    --background: var(--color-emphasis-100);
    &:hover:before {
        animation: wobble 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55) alternate 4;
    }
}

.fun-highlight:nth-of-type(9n+2) {
    --background: var(--color-emphasis-200);
    --border-radius: 16px;
}

.fun-highlight:nth-of-type(9n+3) {
    --background: var(--color-emphasis-300);

    &:hover:before {
        animation: wobble 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55) alternate 4;
    }
}

.fun-highlight:nth-of-type(9n+4) {
    --background: var(--color-emphasis-400);
    --border-radius: 4px;
}

.fun-highlight:nth-of-type(9n+5) {
    --background: var(--color-emphasis-500);
    &:hover:before {
        animation: wobble 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55) alternate 4;
    }
}

.fun-highlight:nth-of-type(9n+6) {
    --background: var(--color-emphasis-600);
    --border-radius: 8px;
}

.fun-highlight:nth-of-type(9n+7) {
    --background: var(--color-emphasis-700);
    --border-radius: 12px;
}

.fun-highlight:nth-of-type(9n+8) {
    --background: var(--color-emphasis-800);
    &:hover:before {
        animation: wobble 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55) alternate 4;
    }
}

.fun-highlight:nth-of-type(9n+9) {
    --background: var(--color-emphasis-900);
    --border-radius: 2px;
}

@keyframes wobble {
    50% {
        border-radius: 75px 25px 45px 75px / 25px 75px 45px 45px;
    }

    100% {
        border-radius: 75px 15px 75px 15px / 15px 75px 15px 75px;
    }
}

@keyframes wiggle {

    0%,
    100% {
        transform: translate(-50%, -50%) rotate(-2deg) scale(1);
    }

    35% {
        transform: translate(-50%, -50%) rotate(3deg) scale(0.95);
    }

    70% {
        transform: translate(-50%, -50%) rotate(-1deg) scale(1.125);
    }
}

.fun-underline {
    position: relative;
    display: inline;
    z-index: 1;
    text-decoration: none;

    &:after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 100%;
        height: 3px;
        border-radius: 2px;
        opacity: 0.6;
        z-index: -1;
        transform: rotate(var(--rotation, -1deg));
        background: var(--background, currentColor);
        transform-origin: left center;
        transition: left 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        transition-delay: var(--delay, 0s);
    }

    &:hover:after {
        animation: borderPulse 250ms cubic-bezier(0.68, -0.55, 0.265, 1.55) 2;
    }
}

@keyframes borderPulse {
    0%, 100% {
        left: 0;
    }

    40% {
        left: 2px;
    }

    80% {
        left: -2px;
    }
}

@media (prefers-reduced-motion: reduce) {

    .fun-underline::after,
    .fun-underline.individual::after {
        transition: none;
    }
}

.fun-underline:nth-of-type(9n+1) {
    --rotation: -2deg;
    --background: var(--color-emphasis-100);
    --delay: 0s;
}

.fun-underline:nth-of-type(9n+2) {
    --rotation: 0.5deg;
    --background: var(--color-emphasis-200);
    --delay: 0.05s;
}

.fun-underline:nth-of-type(9n+3) {
    --rotation: -1deg;
    --background: var(--color-emphasis-300);
    --delay: 0.1s;
}

.fun-underline:nth-of-type(9n+4) {
    --rotation: 1.5deg;
    --background: var(--color-emphasis-400);
    --delay: 0.15s;
}

.fun-underline:nth-of-type(9n+5) {
    --rotation: -1.5deg;
    --background: var(--color-emphasis-500);
    --delay: 0.2s;
}

.fun-underline:nth-of-type(9n+6) {
    --rotation: 2deg;
    --background: var(--color-emphasis-600);
    --delay: 0.25s;
}

.fun-underline:nth-of-type(9n+7) {
    --rotation: 0deg;
    --background: var(--color-emphasis-700);
    --delay: 0.3s;
}

.fun-underline:nth-of-type(9n+8) {
    --rotation: -0.5deg;
    --background: var(--color-emphasis-800);
    --delay: 0.35s;
}

.fun-underline:nth-of-type(9n+9) {
    --rotation: 1deg;
    --background: var(--color-emphasis-900);
    --delay: 0.4s;
}
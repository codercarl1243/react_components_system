/*
=================================
 Surface API – Framed Surfaces
=================================

The Surface API defines a framed surface with a border and radius
that behaves correctly when nested inside other surfaces.

This API solves a common visual problem:
when two bordered surfaces are nested, identical border radii
cause the inner curve to look incorrect. The inner radius must
be reduced to remain visually parallel to the outer curve.

Surface-frame handles this automatically.

---------------------------------
 What this API is
---------------------------------

• A semantic frame for visually distinct surfaces
• Border + radius only (no background, padding, or color)
• Geometry-aware when nested
• Token-driven and composable

---------------------------------
 What this API is NOT
---------------------------------

• It does NOT apply color
• It does NOT apply background
• It does NOT apply padding
• It does NOT replace paint / variant / appearance

Surface-frame is purely structural.

---------------------------------
 Core Concepts
---------------------------------

• --frame-radius
  The base corner radius for this surface.

• --frame-inset
  The distance between this surface’s border and a nested surface’s border.
  This value is used to compute the nested radius.

• --frame-radius-nested
  A derived radius:
    nestedRadius = frameRadius - frameInset

This keeps nested borders visually parallel.

---------------------------------
 Nesting Behavior
---------------------------------

When a .surface-frame is nested inside another .surface-frame:

• The inner surface automatically receives a reduced radius
• No extra classes are required
• This works at any nesting depth

---------------------------------
 Usage
---------------------------------

<div class="surface-frame p-8 frame-inset-8">
  <div class="surface-frame p-4">
    …
  </div>
</div>

The outer frame defines the geometry.
Inner frames inherit and adapt automatically.

---------------------------------
 Frame Inset Utilities
---------------------------------

Inset utilities control how much the nested radius is reduced.
They do NOT add spacing or padding.

.frame-inset-0   → no inset (flat nesting)
.frame-inset-2   → var(--spacing-sm)
.frame-inset-4   → var(--spacing)
.frame-inset-8   → var(--spacing-lg)
.frame-inset-12  → var(--spacing-xl)
.frame-inset-16  → var(--spacing-xxl)

---------------------------------
 Design Rule
---------------------------------

Padding controls space.
Frame inset controls curvature.

Keep them separate.
*/

.surface-frame {
    /* Base geometry */
    --frame-radius: var(--radius-md);

    /* Default inset (overridable) */
    --frame-inset-base: var(--spacing-sm);
    --frame-inset: var(--frame-inset-base);

    border: var(--border-width-thin) solid;
    border-radius: var(--frame-radius-effective, var(--frame-radius));
}

/* Nested surface frames derive a smaller radius */
.surface-frame .surface-frame {
    --frame-radius-effective: clamp(0px,
            calc(var(--frame-radius) - var(--frame-inset)),
            999px);
}

/* Geometry utilities — single responsibility */
.frame-inset-0 {
    --frame-inset-base: 0px;
}

.frame-inset-2 {
    --frame-inset-base: var(--spacing-sm);
}

.frame-inset-4 {
    --frame-inset-base: var(--spacing);
}

.frame-inset-8 {
    --frame-inset-base: var(--spacing-lg);
}

.frame-inset-12 {
    --frame-inset-base: var(--spacing-xl);
}

.frame-inset-16 {
    --frame-inset-base: var(--spacing-xxl);
}